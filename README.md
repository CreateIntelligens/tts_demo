# CosyVoice ç°¡åŒ–ç‰ˆå‰å¾Œç«¯åˆ†é›¢

## å¿«é€Ÿå•Ÿå‹•

### ä½¿ç”¨ Docker (æ¨è–¦)

```bash
# æ§‹å»ºä¸¦å•Ÿå‹•æœå‹™
docker-compose -f docker-compose.web.yml up --build

# è¨ªå•ç•Œé¢
# å‰ç«¯: http://localhost:8080
# å¾Œç«¯ API: http://localhost:50000
```

### æ‰‹å‹•å•Ÿå‹•

1. **å•Ÿå‹• FastAPI å¾Œç«¯**
```bash
cd runtime/python/fastapi
python server.py --port 50000 --model_dir ../../../pretrained_models/CosyVoice2-0.5B
```

2. **å•Ÿå‹•å‰ç«¯æœå‹™å™¨**
```bash
cd web
python server.py 8080
# æˆ–è€…ä½¿ç”¨å…§å»ºæœå‹™å™¨
python -m http.server 8080
```

## åŠŸèƒ½ç‰¹è‰²

### âœ¨ ç°¡åŒ–ç•Œé¢
- æ¸…çˆ½çš„ç¾ä»£åŒ–è¨­è¨ˆ
- éŸ¿æ‡‰å¼å¸ƒå±€ï¼Œæ”¯æ´æ‰‹æ©Ÿå’Œæ¡Œé¢
- ç›´è¦ºçš„æ“ä½œæµç¨‹

### ğŸ¯ ä¸‰ç¨®æ¨¡å¼
1. **é è¨“ç·´éŸ³è‰²**: é¸æ“‡å…§å»ºéŸ³è‰²ç›´æ¥åˆæˆ
2. **3ç§’æ¥µé€Ÿè¤‡åˆ»**: ä¸Šå‚³éŸ³é »æ¨£æœ¬å¿«é€Ÿè¤‡è£½éŸ³è‰²
3. **è‡ªç„¶èªè¨€æ§åˆ¶**: ç”¨æ–‡å­—æè¿°æƒ³è¦çš„èªéŸ³é¢¨æ ¼

### ğŸ”§ æŠ€è¡“å„ªå‹¢
- å‰å¾Œç«¯åˆ†é›¢æ¶æ§‹
- FastAPI é«˜æ€§èƒ½å¾Œç«¯
- ç´” HTML/CSS/JS å‰ç«¯ï¼Œæ˜“æ–¼ä¿®æ”¹
- Docker ä¸€éµéƒ¨ç½²

## æ–‡ä»¶çµæ§‹

```
web/
â”œâ”€â”€ index.html          # ä¸»ç•Œé¢
â”œâ”€â”€ static/
â”‚   â”œâ”€â”€ css/style.css   # æ¨£å¼æ–‡ä»¶
â”‚   â””â”€â”€ js/app.js       # å‰ç«¯é‚è¼¯
â””â”€â”€ server.py           # å‰ç«¯æ–‡ä»¶æœå‹™å™¨

docker-compose.web.yml  # Docker ç·¨æ’æ–‡ä»¶
Dockerfile.web          # Docker æ˜ åƒæª”
```

## API ç«¯é»

- `POST /inference_sft` - é è¨“ç·´éŸ³è‰²åˆæˆ
- `POST /inference_zero_shot` - é›¶æ¨£æœ¬éŸ³è‰²è¤‡è£½
- `POST /inference_instruct` - æŒ‡ä»¤æ§åˆ¶åˆæˆ

## å‚™ä»½æ–‡ä»¶

åŸå§‹æ–‡ä»¶å·²å‚™ä»½ç‚º `.backup` å¾Œç¶´:
- `docker-compose.yml.backup`
- `runtime/python/Dockerfile.backup`
- `webui.py.backup`

## è‡ªå®šç¾©ä¿®æ”¹

1. **æ¨£å¼ä¿®æ”¹**: ç·¨è¼¯ `web/static/css/style.css`
2. **åŠŸèƒ½æ“´å±•**: ä¿®æ”¹ `web/static/js/app.js`
3. **ç•Œé¢èª¿æ•´**: ç·¨è¼¯ `web/index.html`

## æ•…éšœæ’é™¤

1. **CORS éŒ¯èª¤**: ç¢ºä¿å‰å¾Œç«¯åœ¨ç›¸åŒåŸŸåæˆ–æ­£ç¢ºé…ç½® CORS
2. **æ¨¡å‹è¼‰å…¥å¤±æ•—**: æª¢æŸ¥æ¨¡å‹è·¯å¾‘å’Œæ¬Šé™
3. **éŸ³é »ç„¡æ³•æ’­æ”¾**: ç¢ºèªç€è¦½å™¨æ”¯æ´éŸ³é »æ ¼å¼

---

ğŸ’¡ **æç¤º**: é€™å€‹ç°¡åŒ–ç‰ˆæœ¬ä¾¿æ–¼åœ¨ Replit ç­‰å¹³å°ä¸Šå¿«é€Ÿéƒ¨ç½²å’Œä¿®æ”¹